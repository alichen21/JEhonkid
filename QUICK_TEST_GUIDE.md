# 🚀 快速测试指南

## ✅ 应用状态

**Flask应用已成功启动！** 🎉

- **访问地址**: http://127.0.0.1:5000
- **端口**: 5000
- **状态**: ✅ 运行中

## 📋 测试步骤

### 1. 打开浏览器
访问：**http://127.0.0.1:5000**

### 2. 测试场景A：指导语与正文分离

**目标图片**: `Kumon test.png`, `Kumon test2.png`, `Kumon test3.png`

**验证点**：
- ✅ 页面显示图片和OCR识别结果
- ✅ 看到 **"📋 指导语"** 部分（如果有指导语）
  - 指导语有独立的 **播放按钮** 🔊
  - 点击播放按钮，能听到指导语朗读
- ✅ 看到 **"📝 正文（完整）"** 部分
  - 正文有独立的 **播放按钮** 🔊
  - 点击播放按钮，能听到完整正文朗读

### 3. 测试场景B：长文章分段

**目标图片**: `Qiaohu1.HEIC`, `Qiaohu2.HEIC`, `short para 1.png`, `short para 2.png`

**验证点**：
- ✅ 看到 **"📖 分段朗读"** 部分
- ✅ 每个段落都有：
  - 段落编号（如"段落 1"）
  - 独立的 **播放按钮** 🔊
- ✅ 点击任意段落的播放按钮：
  - 按钮变为"暂停" ⏸️
  - 能听到该段落的朗读
  - 播放完成后按钮恢复为"播放" 🔊

### 4. 测试难度控制面板

**位置**: 在每个图片的LLM处理结果上方

#### 4.1 测试"每段句子数"选择器
- ✅ 选择 **"1句"** → 分段数量增加，每段更短
- ✅ 选择 **"2句"**（默认）→ 分段数量适中
- ✅ 选择 **"3句"** → 分段数量减少，每段更长
- ✅ 选择 **"4句"** → 分段数量更少

#### 4.2 测试"语速"滑块
- ✅ 拖动到 **0.5x** → 播放速度变慢
- ✅ 拖动到 **0.75x**（默认）→ 播放速度适中
- ✅ 拖动到 **1.0x** → 播放速度正常
- ✅ 拖动到 **1.5x** → 播放速度变快
- ✅ 右侧显示当前语速值（如"0.75x"）

### 5. 测试播放控制

**验证点**：
- ✅ 点击播放按钮 → 按钮变为"暂停" ⏸️，音频开始播放
- ✅ 点击暂停按钮 → 音频暂停，按钮恢复为"播放" 🔊
- ✅ 播放完成后 → 按钮自动恢复为"播放" 🔊
- ✅ 多个播放按钮可以独立控制，互不干扰

## 🎯 功能检查清单

### 基础功能
- [ ] 页面正常加载
- [ ] 图片正常显示
- [ ] OCR识别结果正常显示
- [ ] LLM处理结果正常显示

### 场景A：指导语与正文
- [ ] 指导语部分显示
- [ ] 指导语播放按钮可用
- [ ] 正文部分显示
- [ ] 正文播放按钮可用

### 场景B：分段朗读
- [ ] 分段显示正常
- [ ] 每个段落有播放按钮
- [ ] 段落播放功能正常
- [ ] 段落编号正确

### 难度控制
- [ ] 句子数选择器可用
- [ ] 语速滑块可用
- [ ] 设置生效（重新生成音频）

### 播放功能
- [ ] 播放/暂停功能正常
- [ ] 音频清晰可听
- [ ] 语速设置生效
- [ ] 多个按钮独立控制

## 🐛 常见问题

### 问题1：页面无法访问
**解决方案**：
- 确认应用正在运行：检查终端是否有Flask启动信息
- 确认端口5000未被占用
- 尝试访问 http://localhost:5000

### 问题2：播放按钮无响应
**解决方案**：
- 检查浏览器控制台是否有错误
- 确认GOOGLE_CLOUD_API_KEY环境变量已设置
- 检查网络连接

### 问题3：没有分段显示
**解决方案**：
- 确认图片有OCR识别结果
- 确认LLM处理成功（没有error）
- 如果正文较短，可能不会自动分段

### 问题4：音频生成失败
**解决方案**：
- 检查GOOGLE_CLOUD_API_KEY是否正确设置
- 确认Google Cloud Text-to-Speech API已启用
- 检查API配额是否充足

## 📝 测试结果记录

**测试日期**: ___________

**测试人员**: ___________

### 测试结果
- 场景A测试: ✅ / ❌
- 场景B测试: ✅ / ❌
- 难度控制测试: ✅ / ❌
- 播放功能测试: ✅ / ❌

### 发现的问题
1. ___________________________________________________
2. ___________________________________________________
3. ___________________________________________________

### 改进建议
1. ___________________________________________________
2. ___________________________________________________
3. ___________________________________________________

## 🎉 测试完成

如果所有功能都正常工作，恭喜！MVP测试成功！🎊

下一步可以考虑：
- 添加更多功能（播放进度条、连续播放等）
- 优化UI/UX
- 添加错误处理和用户提示
- 优化移动端显示

